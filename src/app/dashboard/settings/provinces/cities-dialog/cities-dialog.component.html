<h1 mat-dialog-title>Ciudades de la Provincia</h1>
<div mat-dialog-content>
  <div class="table-container mat-elevation-z8">
    <div>
      <form (ngSubmit)="saveCity()" (reset)="onReset()" [formGroup]="formGroup" #formEmail fxLayout="row" fxLayoutAlign="flex-start baseline">
        <div fxFlex="100%">
          <mat-form-field appearance="outline">
            <mat-label>Nombre de la ciudad</mat-label>
            <input matInput formControlName="detail">
          </mat-form-field>
          <button mat-flat-button type="submit" color="accent">
            <mat-icon>add</mat-icon> Guardar ciudad
          </button>
          <button mat-flat-button type="reset">
            Cancelar
          </button>
        </div>
      </form>
    </div>
    <mat-table class="table" [dataSource]="matData" matSort matSortActive>
      <ng-container matColumnDef="detail">
        <th fxFlex="100%" mat-header-cell *matHeaderCellDef mat-sort-header> Detalle </th>
        <td fxFlex="100%" mat-cell *matCellDef="let row"> {{row.detail}} </td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th fxFlex="100%" mat-header-cell *matHeaderCellDef> Acciones </th>
        <td fxFlex="100%" mat-cell *matCellDef="let row">
          <button mat-icon-button *ngIf="row.is_active" matTooltip="Editar ciudad" (click)="editCity(row.id, row.detail)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button *ngIf="row.is_active" matTooltip="Eliminar ciudad" (click)="onDelete(row.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr fxLayout="row" fxLayoutAlign="space-between" mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        fxLayout="row"
        fxLayoutAlign="space-between"
        matRipple
        [matRippleColor]="'light-grey'"
        mat-row
        *matRowDef="let row; columns: displayedColumns;"
      ></tr>
    </mat-table>

    <mat-paginator [pageSizeOptions]="[10, 20]" showFirstLastButtons></mat-paginator>
  </div>
</div>
<div mat-dialog-actions>
  <button mat-button (click)="onClose()">Cerrar</button>
</div>
